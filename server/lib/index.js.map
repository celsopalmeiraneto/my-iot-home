{"version":3,"sources":["../src/index.js"],"names":["require","config","db","PouchDB","process","env","POUCHDB_URL","server","Server","on","packet","payload","toString","topic","post","JSON","parse"],"mappings":";;AAEA;;AACA;;;;AAHAA,OAAO,CAAC,UAAD,CAAP,CAAoBC,MAApB;;AAKA,MAAMC,EAAE,GAAG,IAAIC,gBAAJ,CAAYC,OAAO,CAACC,GAAR,CAAYC,WAAxB,CAAX;AACA,MAAMC,MAAM,GAAG,IAAIC,aAAJ,CAAW,EAAX,CAAf;AAGAD,MAAM,CAACE,EAAP,CAAU,WAAV,EAAwBC,MAAD,IAAY;AACjCA,EAAAA,MAAM,CAACC,OAAP,GAAiBD,MAAM,CAACC,OAAP,CAAeC,QAAf,EAAjB;;AACA,MAAIF,MAAM,CAACG,KAAP,KAAiB,aAArB,EAAoC;AAClCX,IAAAA,EAAE,CAACY,IAAH,CAAQ;AACND,MAAAA,KAAK,EAAEH,MAAM,CAACG,KADR;AAENF,MAAAA,OAAO,EAAEI,IAAI,CAACC,KAAL,CAAWN,MAAM,CAACC,OAAlB;AAFH,KAAR;AAID;AACF,CARD","sourcesContent":["require('./dotenv').config();\n\nimport { Server } from './mosca';\nimport PouchDB from './pouchdb';\n\nconst db = new PouchDB(process.env.POUCHDB_URL);\nconst server = new Server({});\n\n\nserver.on('published', (packet) => {\n  packet.payload = packet.payload.toString();\n  if (packet.topic === 'temperature') {\n    db.post({\n      topic: packet.topic,\n      payload: JSON.parse(packet.payload)\n    });  \n  }\n});\n\n\n"],"file":"index.js"}